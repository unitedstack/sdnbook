## 计算机网络体系结构

在介绍计算机网络的基本概念前，分层次的体系结构是最基本的。但是，
为什么要做网络分层？

**网络分层之后，各层之间是独立的，易于实现和维护。**

为了说明上面这一点，可以设想一个最简单的情况：连接在网络上的两台计算机
要互相传送文件。

1. 物理层。显然，在这两台计算机之间必须要有一条传送数据的通路，多年之前，
在电脑设计之初，那时候还没有计算机网络，每个人有一台电脑，自己玩自己的。
为了让两台电脑之间可以相互交换数据，于是，就需要用一根通信线将两台电脑连在一起，
由于通信线上是按照一定的速率，使用电平的翻转来传输数据的，
所以两台电脑需要协商好一些基本的物理连接的协议：网线的物理接口、网线上的电平、电平翻转的速率等等，也就是机械特性、电气特性、功能特性等等。
一旦实现了两个电脑之间的通信之后，就会考虑将更多的电脑连在一起，
当然所有连接进来的网络，必须和之前的电脑遵循相同的物理协议，
否则无法相互通信。而这多个电脑连接在一起使用的一般是集线器（Hub）之类的设备。

2. 数据链路层。随着时间的推移，当基于物理层，实现了多个电脑连接在一起之后，
有一个必须要解决的问题，那就是相互连在一起的电脑这么多，如何保证 A 发送的数据
就能发到 B 那里，而不是发给了 C 呢？
这就需要相互连接的电脑每个电脑都有一个独一无二的 ID，也就是 MAC 地址，
相对于之前只关心连接的物理特性，这里更关心是如何在局域网中传输数据，
并且还制定了相关的协议，索性直接将和物理相关的那些协议称为物理层，
在局域网中传输数据的协议称为数据链路层。
此外，如果只是在局域网内部进行数据传输的话，只需要使用 MAC 地址就可以了。

3. 网络层：时间又往后走，基于上面的两个层，已经实现了很多的局域网，
于是，自然就有人想把各个局域网也连接在一起。但现在又遇到了一个麻烦的问题：
就是各个局域网大多是异构的。
但是设计如此多类型的局域网，在设计的时候，这些设计局域网的人相互直接也没商量一下，
导致局域网之间的协议不一样，协议不一样，就无法通信
（就好像有的局域网说的是汉语，有的局域网说的是英语，而有的说的是鸟语，之间根本没法交流）。
这时候，就出现了一个救世主，准确的说是一个翻译官：**路由器**，
路由器可以将异构的网络连接在一起，让异构网络之间可以相互通信，
而路由器起的就是一个翻译官的作用，将一个局域网协议的数据，
转换成为另一个局域网协议的数据。
还是以之前举的 FTP 传输的例子来说，前面举这个例子的时候，
是在局域网内部的数据传输，现在要在两个异构的网络之间传输的话，
中间就需要使用路由器：

 ![ftp][1]
使用了路由器，将局域网连接在了一起，于是乎，就又取了个名字，叫做互联网。

4. 传输层主要是为网络层和应用层做一个接口，同时提供数据服务。
其中 ：
    * [TCP 协议( Transmission Control Protocol )](https://en.wikipedia.org/wiki/Transmission_Control_Protocol) 􏰁供可靠的数据流运输服务，
    * [UDP 协议( Use Datagram Protocol )](https://en.wikipedia.org/wiki/User_Datagram_Protocol) 􏰁供不可靠的用户数据报服务。

5. 应用层协议定义了运行在不同端系统上的应用程序进程如何相互传递报文。


## OSI 七层模型

OSI 模型(Open System Interconnection model) 是一个由国际标准化组织
提出的概念模型，试图供一个使各种不同的计算机和网络在世界范围内实现互联的标准框架。
它将计算机网络体系结构划分为七层，每层都可以供抽象良好的接口。
了解 OSI 模型有助于理解实际上互联网络的工业标准：TCP/IP 协议。


OSI 模型各层间关系和通讯时的数据流向如图所示：

 ![osi][2]

[1]: ../../../images/base/ftp.png
[2]: ../../../images/base/osi.png
